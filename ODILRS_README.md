ODI tracking hub extensions

Creator: David Tarrant
Organisation: The Open Data Institute

# Description of the ODI LRS messaging from tracking hub

Complete example is included as ODILRS_example_message.json. 

This readme describes the schema.

## Revealing the trackingHub

The ODI themes regisited listeners on the trackingHub in order to show when the state is saved. These are also used to ask the user for details like email and name if you want your users to give you some details.

example is in our main theme: https://github.com/theodi/adapt-theme-odi/blob/master/js/odi.js

Also a live online example can be found at http://tanzania.learndata.info/eLearning/#/id/57d923304d7b7e82691e3c56

Click Save Progress to activite the LRS tracking hub.

## Data structure

	_id: GUID gerenated by the LRS for the user to ensure record is unique in LRS (generated by getUserID function in the ODILRSStorage-transportHandler.js)

	blocks: All block ids and completion state (boolean)

	components: All component ids and completion state (boolean)

	answers: 
		_userAnswer: Array of booleans to represent the answer to question components
		_isCorrect: Is the user answer the correct one

	progress: (Broken down by articles in a course so each one can be tracked, this way one article or page can appear in many courses)
		article_ids: Either a UID or set as _pageID (see the properties.schema of trackingHub)
			courseID: The global course ID this page appeared in

			theme: The theme that this page was rendered using (this is a hack as it is just a variable in the themes main js file e.g. https://github.com/theodi/adapt-theme-odi/blob/master/js/odi.js, need to find a way of this being something adapt generates when you specify the theme to build in)

			_isComplete: Is the page complete (true/false)

			progress: percentage progess of the page

			startTime: Time the user started this page

			endTime: Time the user completed (100% progress) this page

			sessionTime: Time (in seconds) spent so far on this page

			answers: The answer components from this page only (as opposed to all of them earlier)

			   componentID:

				_userAnswer: Array of booleans to represent the answer to question components

				_isCorrect: Is the user answer the correct one

			   _assessmentState: 4 options (Not attempted = no answers, Incomplete = some answers, Failed = complete but 1 or more answers wrong, Passed = All correct).... NOT great but works for what we need in the LRS. There should probably be a way to define what the pass/fail condition is.
		
			user: The user details
			
				id: The user ID (see _id above)
				
				lastSave: Last save time
			
				email: The users email
			
				firstName: ...
		
				lastName: ....

				email_sent: Has the welcome email from the LRS been sent? (In the wrong place in the example)		
